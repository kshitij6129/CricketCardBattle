{% extends "base.html" %}

{% block title %}Cricket Cards Game{% endblock %}

{% block content %}
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="text-center mb-5">
                    <h1 class="display-4 mb-3">
                        <i class="fas fa-trophy text-warning me-3"></i>
                        Cricket Cards Battle
                    </h1>
                    <p class="lead">Challenge the smart bot in an epic cricket card showdown!</p>
                </div>

                <div class="card shadow-lg">
                    <div class="card-header">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-gamepad me-2"></i>
                            Choose Your Game Mode
                        </h3>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{{ url_for('start_game') }}">
                            <div class="row g-4">
                                <div class="col-md-6">
                                    <div class="card h-100 game-mode-card" onclick="selectMode('quick')">
                                        <div class="card-body text-center">
                                            <i class="fas fa-bolt fa-3x text-warning mb-3"></i>
                                            <h4>Quick Match</h4>
                                            <p class="text-muted">20 cards per player</p>
                                            <p>Perfect for a fast-paced game. Battle through 20 rounds of strategic card play!</p>
                                            <input type="radio" name="mode" value="quick" id="quick" class="d-none">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card h-100 game-mode-card" onclick="selectMode('classic')">
                                        <div class="card-body text-center">
                                            <i class="fas fa-crown fa-3x text-success mb-3"></i>
                                            <h4>Classic Battle</h4>
                                            <p class="text-muted">50 cards per player</p>
                                            <p>The ultimate challenge! Extended gameplay with deeper strategy and more turns.</p>
                                            <input type="radio" name="mode" value="classic" id="classic" class="d-none">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="text-center mt-4">
                                <button type="submit" class="btn btn-primary btn-lg" id="startButton" disabled>
                                    <i class="fas fa-play me-2"></i>
                                    Start Game
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="card mt-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            How to Play
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6><i class="fas fa-dice me-2"></i>Game Rules</h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success me-2"></i>Each player gets a deck of cricket cards</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Choose a stat: Batting <i class="fas fa-running"></i>, Bowling <i class="fas fa-baseball-ball"></i>, or Fielding <i class="fas fa-hand-paper"></i></li>
                                    <li><i class="fas fa-check text-success me-2"></i>Select your best card for that stat</li>
                                    <li><i class="fas fa-check text-success me-2"></i>Higher stat wins the round</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6><i class="fas fa-robot me-2"></i>Bot Intelligence</h6>
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-brain text-info me-2"></i>Analyzes all remaining cards</li>
                                    <li><i class="fas fa-brain text-info me-2"></i>Chooses optimal stats strategically</li>
                                    <li><i class="fas fa-brain text-info me-2"></i>Selects best cards for each situation</li>
                                    <li><i class="fas fa-brain text-info me-2"></i>Adapts strategy as game progresses</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block extra_js %}
<script>
    function selectMode(mode) {
        // Clear previous selections
        document.querySelectorAll('.game-mode-card').forEach(card => {
            card.classList.remove('selected');
        });
        
        // Select the clicked mode
        event.currentTarget.classList.add('selected');
        document.getElementById(mode).checked = true;
        document.getElementById('startButton').disabled = false;
    }
</script>
{% endblock %}
